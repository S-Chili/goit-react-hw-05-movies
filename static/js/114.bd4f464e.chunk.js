"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[114],{89:function(t,e,n){n.d(e,{Df:function(){return h},Qu:function(){return v},TP:function(){return m},q5:function(){return x},zv:function(){return d}});var r=n(861),a=n(757),c=n.n(a),u="https://api.themoviedb.org/3",s="765ba18e0dea441e3b70cde6d2dcbfe5",o="/trending/movie/week",i="/search/movie",f="/movie",p="/credits",l="/reviews",h=function(){var t=(0,r.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u).concat(o,"?api_key=").concat(s));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.results);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u).concat(i,"?api_key=").concat(s,"&query=").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.results);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u).concat(f,"/").concat(e,"?api_key=").concat(s,"&language=en-US"));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u,"/movie/").concat(e).concat(p,"?api_key=").concat(s));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.cast);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(u,"/movie/").concat(e).concat(l,"?api_key=").concat(s));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.results);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},402:function(t,e,n){n.d(e,{O:function(){return i}});var r=n(87),a="MoviesList_sectionMain__w8-Jk",c="MoviesList_titleList__LGCiH",u="MoviesList_moviesItem__OeS7q",s="MoviesList_posterImage__HgWv-",o=n(184);function i(t){var e=t.data,n=t.title,i=t.location;return(0,o.jsxs)("section",{className:a,children:[n&&(0,o.jsx)("h2",{className:c,children:n}),(0,o.jsx)("ul",{className:c,children:e.map((function(t){return(0,o.jsx)("li",{className:u,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(t.id),state:{from:i},children:t.poster_path?(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:t.title,className:s}):t.name})},t.id)}))})]})}},114:function(t,e,n){n.r(e),n.d(e,{default:function(){return _}});var r=n(433),a=n(861),c=n(439),u=n(757),s=n.n(u),o=n(791),i=n(87),f=n(689),p="SearchBar_searchForm__5RFvO",l="SearchBar_button__NBEGK",h="SearchBar_searchInput__hnbpG",v=n(184);var m=function(t){var e=t.query,n=(0,i.lr)(),r=(0,c.Z)(n,2),a=r[0],u=r[1],s=(0,o.useState)(a.get("query")||""),f=(0,c.Z)(s,2),m=f[0],d=f[1],x=(0,o.useState)(!1),_=(0,c.Z)(x,2),k=_[0],w=_[1];return(0,o.useEffect)((function(){d(a.get("query")||"")}),[a]),(0,v.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=m.trim();if(""===n)return alert("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u0444\u0456\u043b\u044c\u043c\u0443 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443!");e(n),u({query:n}),w(!0)},className:p,children:[(0,v.jsx)("button",{type:"submit",className:l,children:(0,v.jsx)("span",{children:"Search"})}),(0,v.jsx)("input",{type:"text",name:"searchParams",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:m,onClick:function(){k&&(d(""),w(!1))},onChange:function(t){d(t.currentTarget.value.toLowerCase())},className:h})]})},d=n(402),x=n(89);var _=function(){var t=(0,o.useState)(""),e=(0,c.Z)(t,2),n=e[0],u=e[1],p=(0,o.useState)([]),l=(0,c.Z)(p,2),h=l[0],_=l[1],k=(0,f.TH)(),w=(0,i.lr)(),y=(0,c.Z)(w,1)[0].get("query");return(0,o.useEffect)((function(){function t(){return(t=(0,a.Z)(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n||!y){t.next=7;break}return t.next=4,(0,x.Qu)(y);case 4:e=t.sent,t.next=10;break;case 7:return t.next=9,(0,x.Qu)(n);case 9:e=t.sent;case 10:_((0,r.Z)(e)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log("Error data:",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[y,n]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m,{query:function(t){u(t)}}),h.length?(0,v.jsx)(d.O,{data:h,location:k}):null]})}},861:function(t,e,n){function r(t,e,n,r,a,c,u){try{var s=t[c](u),o=s.value}catch(i){return void n(i)}s.done?e(o):Promise.resolve(o).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,c){var u=t.apply(e,n);function s(t){r(u,a,c,s,o,"next",t)}function o(t){r(u,a,c,s,o,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return a}})}}]);
//# sourceMappingURL=114.bd4f464e.chunk.js.map